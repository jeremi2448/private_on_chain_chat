# ğŸ“š User Guide - Private On-Chain Chat

Welcome to **Private On-Chain Chat**, your encrypted messaging application on the blockchain!

## ğŸš€ Quick Start

### Prerequisites
- âœ… Web Browser (Chrome, Firefox, Brave, etc.)
- âœ… MetaMask Extension installed
- âœ… MetaMask Account with Sepolia ETH

### Get Sepolia ETH (Free)
1. Visit [Sepolia Faucet](https://sepoliafaucet.com/)
2. Connect your wallet
3. Request test ETH (free)

---

## ğŸ“– Step-by-Step Guide

### Step 1: Connect Wallet ğŸ¦Š

1. **Click "Connect Wallet"** (button top right)
2. **MetaMask opens** â†’ Select your account
3. **Confirm** connection
4. **Verify**: Your address appears (e.g., `0x1234...5678`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Private Chat  [0x12...78]  â”‚ â† Visible Address
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Step 2: Check Your Statistics ğŸ“Š

Just below the header, you will see:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Statistics              â”‚
â”‚  Sent: 5 | Received: 3 | 8  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Sent**: Number of messages you have sent
- **Received**: Messages received (updated with the ğŸ”„ button)
- **Total**: Sum of both

---

### Step 3: Check Your Inbox ğŸ“¬

The **Inbox** section displays messages you have received.

**Actions**:
- Click **ğŸ”„** to refresh
- The counter displays the number of messages

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¬ Inbox          [ğŸ”„]     â”‚
â”‚                             â”‚
â”‚  Messages Received          â”‚
â”‚  You have 3 messages    [3] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **Note**: Messages are encrypted. Only you and the sender can read them!

---

### Step 4: Check History ğŸ“¤

The **Sent Messages** section shows your last 5 messages:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¤ Sent (5 total)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ To: 0x1234...5678       â”‚â”‚
â”‚  â”‚ "Hello World"           â”‚â”‚
â”‚  â”‚ âœ“ Sent        14:30     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Displayed Information**:
- Recipient address (truncated)
- Message content
- Status: âœ“ Sent
- Time sent

---

### Step 5: Send a Message ğŸ’Œ

#### 5.1 Enter Recipient Address

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Recipient address (0x...)  â”‚ â† Paste address here
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Format**: `0x` followed by 40 hexadecimal characters
**Example**: `0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb`

#### 5.2 Type Your Message

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Type your message...       â”‚ â† Max 32 characters
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Limit**: 32 characters maximum
**Allowed Characters**: Letters, numbers, spaces, punctuation

#### 5.3 Send

1. **Click the Send button** ğŸ“¨
2. **Animation**: A flying message appears! ğŸ’Œ
3. **MetaMask**: Confirm the transaction (gas fees)
4. **Confirmation**: "Message sent (Simulated)"

```
     ğŸ’Œ
    /  \
   /    \  â† Flying message animation
  /______\
```

---

## ğŸ”’ Security & Privacy

### FHE Encryption
Your messages are encrypted with **Fully Homomorphic Encryption**:
- âœ… End-to-end encryption
- âœ… Only you and the recipient can read
- âœ… Even the network cannot decrypt

### Permissions
The smart contract uses `FHE.allow()` to ensure that:
- The **sender** can read the message
- The **recipient** can read the message
- **No one else** can access the content

---

## ğŸ’¡ Tips & Tricks

### âœ… Best Practices
- **Verify address** before sending (irreversible!)
- **Short messages**: Max 32 characters
- **Keep Sepolia ETH** for gas fees

### âš ï¸ Current Limitations
- **Zama Gateway**: Currently in degraded mode
- **Simulation**: Messages are simulated while waiting
- **32 characters**: Technical limit of the contract

### ğŸ”„ Refresh Data
- Click **ğŸ”„** in Inbox to refresh
- Statistics update automatically

---

## ğŸ†˜ Troubleshooting

### Problem: "Please install MetaMask!"
**Solution**: Install the MetaMask extension from [metamask.io](https://metamask.io/)

### Problem: "Invalid recipient address"
**Solution**: Verify the address starts with `0x` and contains 42 characters

### Problem: "Message too long"
**Solution**: Reduce your message to 32 characters maximum

### Problem: No MetaMask popup
**Solution**: 
- The site is in simulation mode (Zama gateway down)
- Real transactions will be enabled once the gateway is operational

---

## ğŸ“Š Understanding the Interface

### Header
- **Private Chat**: App Logo
- **Connect Wallet**: MetaMask Connection
- **Address**: Your wallet (once connected)

### Statistics
- **Sent**: Blue counter
- **Received**: Purple counter
- **Total**: Green counter

### Inbox
- **Messages Received**: Number of messages
- **ğŸ”„ Refresh**: Refresh

### History
- **Last 5 messages**: Scrollable list
- **Details**: Recipient, content, time

### Sending Area
- **Field 1**: Recipient address
- **Field 2**: Your message
- **Send Button**: Send

---

## ğŸŒŸ Advanced Features

### Local Persistence
Your statistics and history are **saved locally**:
- Kept between sessions
- Stored in your browser
- Cleared if you clear cache

### Sending Animation
With every send, enjoy an **elegant animation**:
- Flying message from bottom to top
- 360Â° rotation
- Lighting effects

---

## ğŸ“ Support

### Questions?
- Check [README.md](../README.md)
- Check [DEPLOYMENT.md](../DEPLOYMENT.md)

### Bugs?
- Open an issue on GitHub
- Describe the problem in detail

---

## ğŸ‰ Enjoy Private Chat!

You are now ready to send encrypted messages on the blockchain! ğŸš€

**Reminder**: Your messages are **private** and **secure** thanks to FHE encryption. Only you and your recipient can read them.

---

*Last updated: December 2024*
